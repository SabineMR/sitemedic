---
phase: 22-football-sports-vertical
plan: "04"
type: execute
wave: 1
depends_on: []
files_modified:
  - services/taxonomy/certification-types.ts
  - services/taxonomy/vertical-outcome-labels.ts
  - web/lib/org-labels.ts
autonomous: true

must_haves:
  truths:
    - "getPatientLabel('sporting_events') returns 'Player' (not 'Participant')"
    - "The treatment form section heading reads '1. Player Information' when on the sporting_events vertical"
    - "useOrgLabels() for sporting_events vertical returns personSingular: 'Player', locationTerm: 'Pitch / Ground', eventTerm: 'Club'"
    - "getRecommendedCertTypes('sporting_events') returns ATMMiF as the first item in the list"
    - "CERT_TYPES array contains 'ATMMiF', 'ITMMiF', 'FA Advanced Trauma Management', 'FA Concussion Module'"
    - "CertCategory type union includes 'sporting_events'"
  artifacts:
    - path: "services/taxonomy/certification-types.ts"
      provides: "4 new football cert types + sporting_events CertCategory + VERTICAL_CERT_TYPES update"
      contains: "ATMMiF"
    - path: "services/taxonomy/vertical-outcome-labels.ts"
      provides: "getPatientLabel returns 'Player' for sporting_events"
      contains: "'Player'"
    - path: "web/lib/org-labels.ts"
      provides: "Football terminology: Player, Pitch / Ground, Club"
      contains: "Pitch / Ground"
  key_links:
    - from: "services/taxonomy/certification-types.ts"
      to: "VERTICAL_CERT_TYPES['sporting_events']"
      via: "getRecommendedCertTypes function"
      pattern: "sporting_events.*ATMMiF"
    - from: "web/lib/org-labels.ts"
      to: "LABEL_MAP['sporting_events']"
      via: "useOrgLabels hook"
      pattern: "Pitch / Ground"
---

<objective>
Wire football-specific terminology and certification types into the platform taxonomy. Three files need targeted updates: the patient label changes from 'Participant' to 'Player' in vertical-outcome-labels.ts, the org-labels.ts sporting_events entry updates to football terminology, and four FA-specific cert types are added to certification-types.ts with the sporting_events CertCategory added to the union.

Purpose: Satisfies FOOT-05 (terminology: Player, Pitch / Ground, Club) and FOOT-06 (cert types: ATMMiF, ITMMiF, FA Advanced Trauma Management, FA Concussion Module). This plan is independent of 22-01, 22-02, and 22-03 and runs in Wave 1.

Output: 3 modified taxonomy files. No new files.
</objective>

<execution_context>
@/Users/sabineresoagli/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sabineresoagli/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/22-football-sports-vertical/22-RESEARCH.md
@services/taxonomy/certification-types.ts
@services/taxonomy/vertical-outcome-labels.ts
@web/lib/org-labels.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add football cert types to certification-types.ts</name>
  <files>services/taxonomy/certification-types.ts</files>
  <action>
    Read the full `services/taxonomy/certification-types.ts` first.

    Make three targeted changes:

    **1. Add 4 new cert IDs to the CERT_TYPES as const array.**

    Locate the `// ── Events & Festivals` comment block. Insert a new block IMMEDIATELY BEFORE it:

    ```typescript
    // ── Football / Sporting Events ───────────────────────────────────────────
    'ATMMiF',
    'ITMMiF',
    'FA Advanced Trauma Management',
    'FA Concussion Module',
    ```

    **2. Add 'sporting_events' to the CertCategory union type.**

    Change:
    ```typescript
    export type CertCategory =
      | 'medical'
      | 'construction'
      | 'dbs'
      | 'motorsport'
      | 'events'
      | 'education'
      | 'outdoor';
    ```
    To:
    ```typescript
    export type CertCategory =
      | 'medical'
      | 'construction'
      | 'dbs'
      | 'motorsport'
      | 'events'
      | 'education'
      | 'outdoor'
      | 'sporting_events';
    ```

    **3. Add entries for the 4 new certs to CERT_TYPE_INFO.**

    Locate the motorsport section in CERT_TYPE_INFO. Insert a new block IMMEDIATELY AFTER the MSA First Aider entry and BEFORE the SIA Door Supervisor entry:

    ```typescript
    'ATMMiF': {
      label: 'ATMMiF',
      category: 'sporting_events',
      description: 'Advanced Trauma Medical Management in Football (England Football Learning) — highest medical qualification for pitchside football medics',
    },
    'ITMMiF': {
      label: 'ITMMiF',
      category: 'sporting_events',
      description: 'Intermediate Trauma Medical Management in Football (England Football Learning)',
    },
    'FA Advanced Trauma Management': {
      label: 'FA Advanced Trauma Mgmt',
      category: 'sporting_events',
      description: 'FA Advanced Trauma Management reaccreditation / equivalent pathway (England Football)',
    },
    'FA Concussion Module': {
      label: 'FA Concussion Module',
      category: 'sporting_events',
      description: 'England Football concussion guidelines online module — required for all pitchside football medics',
    },
    ```

    **4. Update VERTICAL_CERT_TYPES['sporting_events'].**

    Replace the existing sporting_events line:
    ```typescript
    sporting_events: ['FREC 3', 'FREC 4', 'PHEC', 'HCPC Paramedic', 'ALS Provider', 'AED Trained', 'SIA Door Supervisor', 'Event Safety Awareness'],
    ```
    With:
    ```typescript
    sporting_events: [
      'ATMMiF',
      'ITMMiF',
      'FA Advanced Trauma Management',
      'FA Concussion Module',
      'FREC 4',
      'PHEC',
      'HCPC Paramedic',
      'ALS Provider',
      'FREC 3',
      'AED Trained',
      'SIA Door Supervisor',
      'Event Safety Awareness',
    ],
    ```
  </action>
  <verify>
    `pnpm tsc --noEmit` — zero TypeScript errors (the CERT_TYPE_INFO type guard will fail at compile time if new cert IDs are not in CERT_TYPE_INFO).
    `grep -n "ATMMiF" services/taxonomy/certification-types.ts` — at least 3 matches (CERT_TYPES array, CERT_TYPE_INFO entry, VERTICAL_CERT_TYPES array).
    `grep -n "sporting_events" services/taxonomy/certification-types.ts` — appears in CertCategory union AND CERT_TYPE_INFO entries AND VERTICAL_CERT_TYPES.
  </verify>
  <done>ATMMiF, ITMMiF, FA Advanced Trauma Management, FA Concussion Module added to CERT_TYPES. CertCategory includes 'sporting_events'. CERT_TYPE_INFO has all 4 new entries. VERTICAL_CERT_TYPES['sporting_events'] lists ATMMiF first, followed by ITMMiF, FA Advanced Trauma Management, FA Concussion Module, then the existing general medical certs.</done>
</task>

<task type="auto">
  <name>Task 2: Update patient label and web org-labels for football terminology</name>
  <files>
    services/taxonomy/vertical-outcome-labels.ts
    web/lib/org-labels.ts
  </files>
  <action>
    **File 1: services/taxonomy/vertical-outcome-labels.ts**

    Read the full file. Locate the `getPatientLabel` function. Find the `sporting_events` entry in the `labels` object (currently `'Participant'`). Change it to `'Player'`:

    ```typescript
    // Before:
    sporting_events:   'Participant',

    // After:
    sporting_events:   'Player',
    ```

    No other changes to this file.

    **File 2: web/lib/org-labels.ts**

    Read the full file. Locate the `sporting_events` entry in `LABEL_MAP`. Update it from:
    ```typescript
    sporting_events: {
      personSingular: 'Participant',
      personPlural:   'Participants',
      locationTerm:   'Stadium',
      periodTerm:     'Match day',
      eventTerm:      'Event',
      primaryVertical: 'sporting_events',
    },
    ```
    To:
    ```typescript
    sporting_events: {
      personSingular:  'Player',
      personPlural:    'Players',
      locationTerm:    'Pitch / Ground',
      periodTerm:      'Match day',
      eventTerm:       'Club',
      primaryVertical: 'sporting_events',
    },
    ```

    Also update the JSDoc comment at the top of the file that lists the vertical-to-label mapping. Change the sporting_events line from:
    ```
     *  sporting_events   → Participant / Stadium / Match day
    ```
    To:
    ```
     *  sporting_events   → Player / Pitch / Ground / Match day
    ```

    No other changes to either file.
  </action>
  <verify>
    `grep -n "sporting_events" services/taxonomy/vertical-outcome-labels.ts` — must show 'Player' (not 'Participant').
    `grep -n "Pitch / Ground" web/lib/org-labels.ts` — must return at least 1 match in LABEL_MAP.
    `grep -n "personSingular.*Player\|Player.*personSingular" web/lib/org-labels.ts` — confirms update.
    `grep -n "Participant\|Stadium" web/lib/org-labels.ts` — must NOT appear in the sporting_events LABEL_MAP entry (confirm no leftover old values).
    `pnpm tsc --noEmit` — zero TypeScript errors.
  </verify>
  <done>getPatientLabel('sporting_events') will return 'Player'. useOrgLabels() for sporting_events vertical returns personSingular: 'Player', personPlural: 'Players', locationTerm: 'Pitch / Ground', eventTerm: 'Club'. The treatment form section heading will read '1. Player Information' when on sporting_events vertical.</done>
</task>

</tasks>

<verification>
- `pnpm tsc --noEmit` — zero errors (cert type exhaustiveness is checked at compile time)
- `grep -n "'Player'" services/taxonomy/vertical-outcome-labels.ts` — at least 1 match on the sporting_events line
- `grep -n "Pitch / Ground" web/lib/org-labels.ts` — 1–2 matches (LABEL_MAP entry + JSDoc)
- `grep -n "ATMMiF" services/taxonomy/certification-types.ts` — 3 matches (CERT_TYPES, CERT_TYPE_INFO, VERTICAL_CERT_TYPES)
- `grep -n "sporting_events" services/taxonomy/certification-types.ts` — in CertCategory union, CERT_TYPE_INFO (x4), and VERTICAL_CERT_TYPES
</verification>

<success_criteria>
Football terminology is correct throughout the platform: treatment form shows '1. Player Information', web admin uses 'Player', 'Pitch / Ground', 'Club'. getRecommendedCertTypes('sporting_events') leads with ATMMiF. CertCategory accepts 'sporting_events' without TypeScript error. No other verticals are affected.
</success_criteria>

<output>
After completion, create `.planning/phases/22-football-sports-vertical/22-04-SUMMARY.md`
</output>
