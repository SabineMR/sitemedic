# Phase 4.5: Marketing Website & Booking Portal - Context

**Gathered:** 2026-02-16
**Status:** Ready for planning

<domain>
## Phase Boundary

Public-facing marketing website (fast-loading SSG, trust-building) and client self-service booking portal (multi-step wizard, auto-matching, Stripe payment processing). Booking portal handles both new clients (prepay/split payment) and established clients (Net 30 invoicing).

</domain>

<decisions>
## Implementation Decisions

### Marketing Site Structure
- **Pages**: Homepage + Pricing + About + Trust (full credibility build)
- Homepage includes value prop, trust signals, clear CTA to booking portal
- Pricing page has dual paths: interactive calculator for self-service + "Contact for Quote" button for complex needs
- About page: company story, HSE compliance, certifications
- Trust page: testimonials, case studies, stats

### Trust Signals (All Four)
- **HSE compliance badges**: Official HSE registration, RIDDOR compliance, UK safety standards logos (prominent display)
- **Client testimonials**: Quotes from construction site managers about time saved, compliance improvements
- **Medic credentials**: Showcase qualifications (FREC3, First Aid, UK certifications), photos of medics in PPE
- **Case study stats**: Real numbers - '500+ treatments logged', '100% RIDDOR compliance', 'Used by X construction firms'

### Pricing Presentation
- **Dual paths confirmed**:
  - Interactive calculator for standard bookings (single day, straightforward requirements)
  - "Contact Us" / "Get Quote" button for complex scenarios (recurring bookings, multi-site, custom requirements)
- Calculator shows real-time breakdown: base rate (£42/hr) + urgency premium (0-75%) + travel surcharge + VAT (20%)
- Transparency goal: client knows exact cost before entering booking flow

### Booking Flow Structure
- **Multi-step wizard** (not single page):
  - Step 1: Date/time selection
  - Step 2: Site location and booking details
  - Step 3: Review pricing + payment
- **Progress indicator**: Show "Step 1 of 3" with progress bar
- **Pricing breakdown timing**: Show complete cost breakdown on Step 3 (review page) after all info collected
- Clear "Back" navigation between steps

### Account Creation Timing
- **Claude's Discretion**: Choose between "during booking flow" (account fields in Step 1) or "after first booking" (guest checkout, prompt to create account on confirmation page)
- Consider conversion optimization: guest checkout typically converts better for first-time users
- Must capture: company name, contact email, phone number (minimum for booking)

### Auto-Matching Presentation
- **Hybrid approach**: Auto-assign best match by default, allow client to override
- Default behavior: System auto-assigns closest available medic based on distance + availability + qualifications
- Override option: "Choose different medic" button shows 2-3 alternative candidates
- **Medic information displayed**: Photo, name, qualifications (e.g., "FREC3, First Aid at Work, 8 years experience")
- **NOT displayed**: Distance/travel time, rating/review count (simpler UI, focus on credentials)
- **Distance logic**: Used for ranking algorithm behind the scenes, just not shown to client

### Alternative Medics
- When client clicks "Choose different medic": Show 2-3 ranked alternatives (not all available medics)
- Ranked by: distance (primary) + availability + qualifications
- Same info display: photo, name, qualifications

### Payment Terms (ENV Configurable)
Payment terms defined as environment variables for flexibility:

```
# Default payment terms
NEW_CLIENT_PREPAY_PERCENTAGE=100  # Full prepay, or 50 for half upfront
NEW_CLIENT_NET_DAYS=30            # For remaining 50% if split payment
ESTABLISHED_CLIENT_NET_DAYS=30    # Standard B2B terms
ENTERPRISE_CLIENT_NET_DAYS=60     # Large recurring contracts

# Client tier thresholds
NEW_TO_ESTABLISHED_BOOKING_COUNT=3    # Bookings before Net 30 upgrade
ENTERPRISE_CONTRACT_MIN_VALUE=5000    # £5K+ for Net 60 terms

# Late payment handling
PAYMENT_REMINDER_DAYS=7,14,21     # Auto-reminder schedule
LATE_PAYMENT_FEE=40               # UK statutory late fee
```

**Payment term logic**:
- New clients (first 1-3 bookings): Full prepay OR 50% upfront + 50% Net 30
- Established clients (3+ successful payments): Net 30 available
- Enterprise clients (£5K+ contracts): Net 60 available
- **Reality**: Clients may pay early or late - system tracks variance via payment reliability scoring (Phase 5.5-06)

### Payment UX
- **Show terms dynamically**: If client qualifies for Net 30, display "Pay by invoice (Net 30)" option alongside "Pay by card" at checkout
- New clients see only "Pay by card" (or "50% now + 50% Net 30" if configured)
- Established clients see both options: immediate card charge OR invoice with Net 30 terms
- Payment method selection on Step 3 (review/payment page)

### Credit Limits
- **Warn but allow override**: Check outstanding balance vs credit limit at booking time
- If client approaching limit (e.g., "£2400 of £3000 limit used"), show warning message
- Admin can approve override for trusted clients (flag booking for manual review)
- Don't hard-block bookings (relationship preservation), but surface risk

### Payment Failure Handling
- **Booking pending with retry**: If card payment fails (declined, insufficient funds, 3D Secure failure), create booking as `pending_payment` status
- Email client immediately with retry link to update payment method
- **24-hour window**: Cancel booking automatically if payment not completed within 24 hours
- Clear messaging: "Your booking is reserved for 24 hours. Please complete payment to confirm."

</decisions>

<specifics>
## Specific Ideas

- Marketing site must load <2 seconds (Lighthouse score >90) per success criteria
- Booking flow should complete in <5 minutes for standard bookings
- "I want the interactive tool for booking, the rest contact for a quote" - dual path approach with self-service as primary, sales as secondary
- Credit limit warning surfaced at booking time prevents bad debt while maintaining client relationships
- Payment variance acknowledged: "clients might go under or over for payment right because it's not an exact science"

</specifics>

<deferred>
## Deferred Ideas

None - discussion stayed within phase scope.

</deferred>

---

*Phase: 04.5-marketing-booking-portal*
*Context gathered: 2026-02-16*
