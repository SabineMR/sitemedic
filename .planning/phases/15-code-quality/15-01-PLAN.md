---
phase: 15-code-quality
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - web/app/api/bookings/recurring/route.ts
  - web/app/api/contracts/webhooks/route.ts
  - web/app/api/contracts/create/route.ts
autonomous: true

must_haves:
  truths:
    - "Zero console.log statements exist in web/app/**"
    - "Zero console.warn statements exist in web/app/**"
    - "All console.error statements are kept (they are the only error reporting path)"
  artifacts:
    - path: "web/app/api/bookings/recurring/route.ts"
      provides: "Recurring booking cap without console.warn"
      contains: "Math.min(weeks, maxWeeks)"
    - path: "web/app/api/contracts/webhooks/route.ts"
      provides: "Webhook handler without console.warn"
    - path: "web/app/api/contracts/create/route.ts"
      provides: "Contract creation without console.warn"
  key_links: []
---

<objective>
Remove all non-error console statements from production web app code.

Purpose: Clean production output -- console.warn leaks internal implementation details and clutters server logs. The 135 console.error statements are the only error reporting path (no Sentry/Pino configured) so they stay.
Output: 3 files modified -- each with its console.warn line removed.
</objective>

<execution_context>
@/Users/sabineresoagli/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sabineresoagli/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15-code-quality/15-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove 3 console.warn statements from web/app API routes</name>
  <files>
    web/app/api/bookings/recurring/route.ts
    web/app/api/contracts/webhooks/route.ts
    web/app/api/contracts/create/route.ts
  </files>
  <action>
    Remove the following 3 console.warn statements. Do NOT remove any console.error statements -- they are the only error reporting path and must stay.

    1. **web/app/api/bookings/recurring/route.ts line 32:**
       `console.warn('... Requested N weeks, capped at maxWeeks')`
       Action: Delete the entire `if (weeks > maxWeeks) { console.warn(...); }` block (lines 31-33). The capping already happens silently on line 29 (`Math.min(weeks, maxWeeks)`). The warn adds no value.

    2. **web/app/api/contracts/webhooks/route.ts line 48:**
       `console.warn('... No contractId tag found in webhook payload')`
       Action: Delete just the console.warn line (line 48). The handler already returns a 200 response with `{ message: 'No contract tag found' }` on line 49-52, which is the correct behavior for webhooks without a contract tag.

    3. **web/app/api/contracts/create/route.ts line 224:**
       `console.warn('Supabase credentials missing - PDF generation skipped')`
       Action: Delete just the console.warn line (line 224). The else branch (Supabase creds missing) silently skips PDF generation which is fine -- the admin can regenerate later.

    Do NOT touch any other files. Do NOT change any console.error statements anywhere.
  </action>
  <verify>
    Run: `grep -rn "console\.warn" web/app/` -- must return 0 results.
    Run: `grep -rn "console\.log" web/app/` -- must return 0 results (already 0 per research).
    Run: `grep -rn "console\.error" web/app/ | wc -l` -- should still be ~135 (unchanged).
  </verify>
  <done>
    Zero console.warn and zero console.log in web/app/**. All 135 console.error retained untouched.
  </done>
</task>

</tasks>

<verification>
- `grep -rn "console\.warn" web/app/` returns empty
- `grep -rn "console\.log" web/app/` returns empty
- `grep -rn "console\.error" web/app/ | wc -l` returns ~135
- `pnpm build` completes without errors (TypeScript compilation still passes)
</verification>

<success_criteria>
Zero console.log and zero console.warn statements in web/app/**. All console.error retained. Build passes.
</success_criteria>

<output>
After completion, create `.planning/phases/15-code-quality/15-01-SUMMARY.md`
</output>
